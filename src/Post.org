#+TITLE: My blog Post module
#+AUTHOR: Jakub Šťastný

* Exports & imports
** Code

#+BEGIN_SRC elm
module Post exposing (Post)
#+END_SRC

** Test

Run with =elm-test=.

#+BEGIN_SRC elm :tangle PostTest.elm
module PostTest exposing (..)

import Expect exposing (Expectation)
import Fuzz exposing (Fuzzer, int, list, string)
import Test exposing (..)
#+END_SRC

* Model

Body is in the Org mode format. Published time is in Unix epoch time.

#+BEGIN_SRC elm
type alias Post = {
  title: String,
  excerpt: String,
  body: String,
  tags: List String,
  published_utime: Int}
#+END_SRC

#+BEGIN_SRC elm :tangle PostTest.elm
post = {
  title = "Hello world!",
  excerpt = "Hey there, I decided to start blogging again.",
  body = "* What is it going to be about?\n\nLorem ipsum ...",
  tags = [],
  published_utime = 1623423856}
#+END_SRC

* Dummy test I

- [[https://elmprogramming.com/fuzz-testing][fuzz testing]]
- [[https://package.elm-lang.org/packages/avh4/elm-program-test/latest/][elm-program-test]] (Elm alternative to the [[https://testing-library.com][React testing library]]).

#+BEGIN_SRC elm :tangle PostTest.elm
suite : Test
suite =
  describe "Post module"
    [ describe "ABC"
      [ test "XYZ" <|
        \_ -> Expect.equal 1 1
      ]
    ]
#+END_SRC
